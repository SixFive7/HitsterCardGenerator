---
phase: 21-local-build-docs
plan: 01
type: execute
---

<objective>
Update README for self-hosted build-from-URL workflow.

Purpose: Enable users to deploy via Portainer/docker-compose without git clone - Docker builds directly from GitHub URL.
Output: README.md with clean build-from-URL examples, no ghcr.io references.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/21-local-build-docs/21-CONTEXT.md

**Prior decisions affecting this phase:**
- Phase 20 deleted release.yml CI workflow and created .env.example
- No pre-built images in ghcr.io anymore - must build from source

**User vision (from CONTEXT.md):**
- Portainer-friendly copy-paste compose snippets
- Build from GitHub URL, no local clone required
- Inline credentials in YAML, not external .env references
- Two examples: simple (port 8080) and Traefik (labels only)

@README.md
@docker-compose.yml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove CI/CD references from README</name>
  <files>README.md</files>
  <action>
Remove outdated CI/CD artifacts:
1. Delete the Build badge line (references deleted release.yml)
2. Delete the Docker ghcr.io badge line
3. Remove all references to `ghcr.io/sixfive7/histercardgenerator` image
4. Keep the License badge

The Quick Start and Deployment sections will be replaced in Task 2.
  </action>
  <verify>grep -c "ghcr.io" README.md returns 0, grep -c "release.yml" README.md returns 0</verify>
  <done>No ghcr.io or release.yml references remain in README.md</done>
</task>

<task type="auto">
  <name>Task 2: Add build-from-URL docker-compose examples</name>
  <files>README.md</files>
  <action>
Replace Quick Start and Deployment sections with build-from-URL approach:

**Quick Start section:**
```yaml
# docker-compose.yml
services:
  hitster:
    build: https://github.com/SixFive7/HitsterCardGenerator.git
    container_name: hitster-card-generator
    ports:
      - "8080:8080"
    environment:
      TZ: Europe/Amsterdam
      PUID: 1000
      PGID: 1000
      SPOTIFY_CLIENT_ID: your_client_id_here
      SPOTIFY_CLIENT_SECRET: your_client_secret_here
    restart: unless-stopped
```

**Traefik section** (same but with labels, no ports):
```yaml
services:
  hitster:
    build: https://github.com/SixFive7/HitsterCardGenerator.git
    container_name: hitster-card-generator
    environment:
      TZ: Europe/Amsterdam
      PUID: 1000
      PGID: 1000
      SPOTIFY_CLIENT_ID: your_client_id_here
      SPOTIFY_CLIENT_SECRET: your_client_secret_here
    labels:
      traefik.enable: true
      traefik.http.routers.hitster.rule: Host(`hitster.yourdomain.com`)
      traefik.http.services.hitster.loadbalancer.server.port: 8080
    restart: unless-stopped
```

Key changes:
- Use `build: https://github.com/SixFive7/HitsterCardGenerator.git` instead of `image:`
- Inline environment values (not ${VAR} references)
- Remove volume mounts (PDFs download through browser)
- Keep the multi-architecture note but update it: "Builds on both AMD64 and ARM64"
- Simplify Quick Start to just show the compose file (no docker run command)
  </action>
  <verify>grep "build: https://github.com" README.md returns matches, README structure is clean</verify>
  <done>README has Portainer-friendly build-from-URL examples with inline credentials</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] No ghcr.io references in README.md
- [ ] No release.yml references in README.md
- [ ] Build-from-URL docker-compose examples present
- [ ] Both simple and Traefik examples included
- [ ] Inline credentials (not ${VAR} references) in examples
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- README provides zero-friction self-hosting experience
- Users can copy-paste compose directly into Portainer
</success_criteria>

<output>
After completion, create `.planning/phases/21-local-build-docs/21-01-SUMMARY.md`:

# Phase 21 Plan 01: Local Build Docs Summary

**[Substantive one-liner]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `README.md` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase complete, milestone v2.5 complete.
</output>
