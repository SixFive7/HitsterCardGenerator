---
phase: 16-multi-arch-docs
plan: 01
type: execute
---

<objective>
Add multi-architecture Docker builds (AMD64 + ARM64) and set up project meta files.

Purpose: Enable the Docker image to run on both Intel/AMD and ARM-based systems (including Apple Silicon and Raspberry Pi), plus establish proper licensing and project hygiene.
Output: Updated release workflow with multi-arch support, MIT LICENSE file, updated .gitignore and CLAUDE.md.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-multi-arch-docs/16-RESEARCH.md
@.planning/phases/16-multi-arch-docs/16-CONTEXT.md
@.planning/phases/15-github-actions-ci/15-01-SUMMARY.md

**Prior decisions affecting this phase:**
- Phase 15: release.yml already has docker/setup-buildx-action@v3, just needs QEMU + platforms

**From RESEARCH.md:**
- Use docker/setup-qemu-action@v3 for cross-platform emulation
- Add `platforms: linux/amd64,linux/arm64` to build-push-action
- QEMU approach is simpler and sufficient for release-only builds

**Relevant source files:**
@.github/workflows/release.yml
@.gitignore
@CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add QEMU + platforms to release.yml</name>
  <files>.github/workflows/release.yml</files>
  <action>
Add multi-architecture build support:

1. Add QEMU setup step BEFORE the existing "Set up Docker Buildx" step:
```yaml
- name: Set up QEMU
  uses: docker/setup-qemu-action@v3
```

2. Add platforms parameter to the "Build and push Docker image" step:
```yaml
platforms: linux/amd64,linux/arm64
```

The QEMU step must come before buildx setup. Keep all existing steps and configuration intact.
  </action>
  <verify>Validate YAML syntax: `python -c "import yaml; yaml.safe_load(open('.github/workflows/release.yml'))"`</verify>
  <done>release.yml has setup-qemu-action step before setup-buildx-action, and build-push-action has platforms parameter with linux/amd64,linux/arm64</done>
</task>

<task type="auto">
  <name>Task 2: Create LICENSE file</name>
  <files>LICENSE</files>
  <action>
Create MIT license file with:
- Year: 2025
- Copyright holder: SixFive7

Use standard MIT license text.
  </action>
  <verify>File exists: `test -f LICENSE && echo "LICENSE exists"`</verify>
  <done>LICENSE file exists with MIT license text, correct year and copyright holder</done>
</task>

<task type="auto">
  <name>Task 3: Update project meta files</name>
  <files>.gitignore, CLAUDE.md</files>
  <action>
1. Add `example.yaml` to .gitignore (user's personal docker-compose reference, should not be committed)

2. Add instruction to CLAUDE.md reminding to keep README in sync with project changes. Add after the existing content:
```markdown

## Documentation

When making significant changes to the project (new features, configuration changes, deployment updates), ensure the README.md is updated to reflect those changes.
```
  </action>
  <verify>
- `grep "example.yaml" .gitignore` shows the entry
- `grep -q "README" CLAUDE.md && echo "CLAUDE.md updated"`
  </verify>
  <done>.gitignore contains example.yaml entry, CLAUDE.md has README sync instruction</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `python -c "import yaml; yaml.safe_load(open('.github/workflows/release.yml'))"` succeeds
- [ ] release.yml contains `setup-qemu-action@v3`
- [ ] release.yml contains `platforms: linux/amd64,linux/arm64`
- [ ] LICENSE file exists with MIT license
- [ ] .gitignore contains example.yaml
- [ ] CLAUDE.md mentions README updates
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No syntax errors in YAML
- Multi-arch build configuration ready for next release tag
</success_criteria>

<output>
After completion, create `.planning/phases/16-multi-arch-docs/16-01-SUMMARY.md`
</output>
