# Milestone v2.9: SkiaSharp Rendering

## Status: SHIPPED 2025-12-26

## Goal

Replace QuestPDF rendering with SkiaSharp for unified card rendering, creating a single source of truth for both web preview and PDF export.

## Phases

### Phase 31: SkiaSharp Rendering

**Goal**: Replace QuestPDF card rendering with SkiaSharp for high-quality bitmap output
**Status**: Complete

Implemented CardRenderer.cs with SkiaSharp rendering that serves as single source of truth. Web preview uses PNG images directly, PDF export embeds pre-rendered PNGs.

Plans:
- [x] 31-01: SkiaSharp rendering implementation (5 tasks) - 2025-12-26

## Summary

- **Total phases**: 1
- **Total plans**: 1
- **Phase range**: 31
- **Duration**: 1 day (2025-12-26)

## Key Accomplishments

1. **SkiaSharp 3.119.1**: Updated to latest stable version with modern SKFont API
2. **CardRenderer.cs**: New single source of truth for card rendering
3. **Zero deprecation warnings**: Used modern SKFont API instead of deprecated SKPaint text methods
4. **Simplified architecture**: CardDesigner.cs delegates to CardRenderer, PdfExporter embeds pre-rendered PNGs
5. **Code reduction**: ~200 lines removed from CardDesigner.cs and PdfExporter.cs combined

## Technical Details

- **Card dimensions**: 85x55mm at 300 DPI = 1003x650 pixels
- **Font sizes**: 11pt = 45.8px, 10pt = 41.7px, 9pt = 37.5px at 300 DPI
- **Semi-transparent bar color**: RGBA(0, 0, 0, 0xB3) = 70% opacity black

## Files Modified

- `Services/CardRenderer.cs` - **New** SkiaSharp rendering service
- `Services/CardDesigner.cs` - **Simplified** to delegate to CardRenderer
- `Services/PdfExporter.cs` - **Updated** to embed pre-rendered PNGs
- `HitsterCardGenerator.csproj` - **Updated** SkiaSharp version 3.116.1 -> 3.119.1
